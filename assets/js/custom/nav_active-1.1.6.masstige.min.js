!function(t){t.fn.navActive=function(i){var e=t.extend({depth1:void 0,depth2:void 0,depth3:void 0,activeClass:"on",callback:function(){}},i),n=window.location.pathname.split("/"),a=s(n),d=c(n),l=o(n),h=window.location.search;function s(t){return t.length>2?t[t.length-2]:void 0}function c(t){var i=t[t.length-2],e=t[t.length-1].replace(".html","");return e.split("__").length>1?i+e.split("__")[0]:i+e}function o(t){var i=t[t.length-2],e=t[t.length-1].replace(".html","");return e.split("__").length>1?i+e.split("__")[1]:i+e}function r(t,i){var e=""!==t,n=void 0!==i&&null!==i.match("\\?")&&i.match("\\?").length>0;return!(!e||!n)}t(this).each(function(){var i=void 0!==e.depth1?t(this).find(e.depth1):void 0,n=void 0!==e.depth2?t(this).find(e.depth2):void 0,v=void 0!==e.depth3?t(this).find(e.depth3):void 0;void 0!==i&&i.length>0&&i.each(function(i,n){var d=t(this).children("a"),l=s(d.attr("href").split("/"));a===l&&d.addClass(e.activeClass)}),void 0!==n&&n.length>0&&n.each(function(){var i,n,a,l,s,o=t(this).children("a"),v=c(o.attr("href").split("/")),p=r(h,v),f=(n=(i=d).indexOf("-view")>0,a=i.indexOf("-write")>0,l=i.indexOf("-pw")>0,s=i.indexOf("-edit")>0,n?[!0,"-view"]:a?[!0,"-write"]:l?[!0,"-pw"]:!!s&&[!0,"-edit"]);p?d+h===v&&o.addClass(e.activeClass):(!0===f[0]&&(d=d.replace(f[1],"")),d===v&&o.addClass(e.activeClass))}),void 0!==v&&v.length>0&&v.each(function(){var i=t(this).children("a"),n=o(i.attr("href").split("/"));r(h,n)?l+h===n&&i.addClass(e.activeClass):l===n&&i.addClass(e.activeClass)}),e.callback()})}}(jQuery);